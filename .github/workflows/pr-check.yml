name: PR Check

on:
  pull_request:
    branches: [main, develop]

jobs:
  pr-check:
    uses: mgmacri/OP_Client-Companion-Governance/.github/workflows/pr-check.yml@3ab99a629a8cda1a1bf740bfb89827afc4047547
    with:
      node-version: "20"
      pnpm-version: "9"
      working-directory: "app/client-companion"
      run-security-scan: true
      fail-on-compliance-violation: true
    permissions:
      contents: read
      pull-requests: read
      security-events: write