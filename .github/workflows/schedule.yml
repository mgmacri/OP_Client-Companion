name: Scheduled Maintenance

on:
  schedule:
    - cron: '0 6 * * 1'
  workflow_dispatch:

jobs:
  maintenance:
    uses: mgmacri/OP_Client-Companion-Governance/.github/workflows/schedule.yml@3ab99a629a8cda1a1bf740bfb89827afc4047547
    with:
      node-version: "20"
      pnpm-version: "9"
      working-directory: "app/client-companion"
      run-dependency-audit: true
      run-stale-cleanup: true
      run-license-check: true
    permissions:
      contents: read
      issues: write
      pull-requests: write
      security-events: write